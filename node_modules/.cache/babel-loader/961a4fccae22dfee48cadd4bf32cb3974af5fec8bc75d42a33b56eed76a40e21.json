{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import'./Recensioni.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Recensioni(){const[recensioni,setRecensioni]=useState([]);const[recensione,setRecensione]=useState('');const[nome_cliente,setNomeUtente]=useState('');const[valutazione,setRating]=useState(1);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);useEffect(()=>{// Update URL to match the backend route\naxios.get('http://localhost:5000/api/recensioni-approvate').then(response=>setRecensioni(response.data)).catch(error=>{console.error('Errore nel recupero delle recensioni approvate:',error);setError('Errore nel recupero delle recensioni approvate');});},[]);const handleSubmit=e=>{e.preventDefault();const nuovaRecensione={nome_cliente:nome_cliente,recensione:recensione,valutazione:valutazione};// Ensure the endpoint is correct here as well\naxios.post('http://localhost:5000/api/aggiungi-recensione',nuovaRecensione).then(response=>{setRecensioni([...recensioni,response.data]);setNomeUtente('');setRecensione('');setRating(1);setSuccess('Recensione aggiunta con successo!');setError(null);}).catch(error=>{console.error('Errore nell\\'invio della recensione',error);setError('Errore nell\\'invio della recensione');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"recensioni-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recensioni\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:success}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-recensione\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Il tuo nome\",value:nome_cliente,onChange:e=>setNomeUtente(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Scrivi una recensione\",value:recensione,onChange:e=>setRecensione(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:valutazione,onChange:e=>setRating(Number(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u2B50\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"\\u2B50\\u2B50\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"\\u2B50\\u2B50\\u2B50\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"\\u2B50\\u2B50\\u2B50\\u2B50\"}),/*#__PURE__*/_jsx(\"option\",{value:5,children:\"\\u2B50\\u2B50\\u2B50\\u2B50\\u2B50\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Invia Recensione\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Le recensioni dei nostri clienti:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"recensioni-approvate\",children:recensioni.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nessuna recensione\"}):recensioni.map(recensione=>/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:recensione.nome_cliente}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:recensione.recensione}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Valutazione:\"}),\" \",recensione.valutazione,\" \\u2B50\"]})]})]},recensione.id))}),/*#__PURE__*/_jsx(Link,{to:\"/host-login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-host\",children:\"Sei Host? Accedi\"})})]});}export default Recensioni;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Recensioni","recensioni","setRecensioni","recensione","setRecensione","nome_cliente","setNomeUtente","valutazione","setRating","error","setError","success","setSuccess","get","then","response","data","catch","console","handleSubmit","e","preventDefault","nuovaRecensione","post","className","children","onSubmit","type","placeholder","value","onChange","target","required","Number","length","map","id","to"],"sources":["C:/Users/tnigh/Desktop/MAMMA/beauty-armony-academy/src/pages/Recensioni.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport './Recensioni.css';\r\n\r\nfunction Recensioni() {\r\n  const [recensioni, setRecensioni] = useState([]); \r\n  const [recensione, setRecensione] = useState('');\r\n  const [nome_cliente, setNomeUtente] = useState('');\r\n  const [valutazione, setRating] = useState(1); \r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Update URL to match the backend route\r\n    axios.get('http://localhost:5000/api/recensioni-approvate')\r\n      .then(response => setRecensioni(response.data))\r\n      .catch(error => {\r\n        console.error('Errore nel recupero delle recensioni approvate:', error);\r\n        setError('Errore nel recupero delle recensioni approvate');\r\n      });\r\n  }, []);\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();  \r\n    const nuovaRecensione = {\r\n      nome_cliente: nome_cliente,\r\n      recensione: recensione,\r\n      valutazione: valutazione\r\n    };\r\n\r\n    // Ensure the endpoint is correct here as well\r\n    axios.post('http://localhost:5000/api/aggiungi-recensione', nuovaRecensione)\r\n  .then(response => {\r\n    setRecensioni([...recensioni, response.data]);\r\n    setNomeUtente('');\r\n    setRecensione('');\r\n    setRating(1);\r\n    setSuccess('Recensione aggiunta con successo!');\r\n    setError(null);\r\n  })\r\n  .catch(error => {\r\n    console.error('Errore nell\\'invio della recensione', error);\r\n    setError('Errore nell\\'invio della recensione');\r\n  });\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"recensioni-page\">\r\n      <h2>Recensioni</h2>\r\n\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      {success && <div className=\"success-message\">{success}</div>}\r\n\r\n      <form onSubmit={handleSubmit} className=\"form-recensione\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Il tuo nome\"\r\n          value={nome_cliente}\r\n          onChange={(e) => setNomeUtente(e.target.value)}\r\n          required\r\n        />\r\n        <textarea\r\n          placeholder=\"Scrivi una recensione\"\r\n          value={recensione}\r\n          onChange={(e) => setRecensione(e.target.value)}\r\n          required\r\n        />\r\n        <select value={valutazione} onChange={(e) => setRating(Number(e.target.value))}>\r\n          <option value={1}>⭐</option>\r\n          <option value={2}>⭐⭐</option>\r\n          <option value={3}>⭐⭐⭐</option>\r\n          <option value={4}>⭐⭐⭐⭐</option>\r\n          <option value={5}>⭐⭐⭐⭐⭐</option>\r\n        </select>\r\n        <button type=\"submit\">Invia Recensione</button>\r\n      </form>\r\n\r\n      <h3>Le recensioni dei nostri clienti:</h3>\r\n<ul className=\"recensioni-approvate\">\r\n  {recensioni.length === 0 ? (\r\n    <p>Nessuna recensione</p>\r\n  ) : (\r\n    recensioni.map((recensione) => (\r\n      <li key={recensione.id} className=\"card\">\r\n        <div className=\"card-header\">\r\n          {recensione.nome_cliente}\r\n        </div>\r\n        <div className=\"card-content\">\r\n          <p>{recensione.recensione}</p>\r\n          <p><strong>Valutazione:</strong> {recensione.valutazione} ⭐</p>\r\n        </div>\r\n      </li>\r\n    ))\r\n  )}\r\n</ul>\r\n  {/* Pulsante per login Host */}\r\n  <Link to=\"/host-login\">\r\n        <button className=\"btn-host\">Sei Host? Accedi</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recensioni;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}